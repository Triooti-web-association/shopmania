<h1>Nouveau SCategorie</h1>
<!--  <form #addArticleForm="ngForm" name="form" (ngSubmit)="onAddArticle()"> -->

<form #addScategoryForm="ngForm" name="form">
  <input
    type="hidden"
    name="id"
    #id="ngModel"
    [(ngModel)]="addEditScategoryDTO.id"
  />

  <div class="form-group">
    <label>Code </label>
    <input
      type="text"
      class="form-control"
      [(ngModel)]="addEditScategoryDTO.code"
      name="code"
      id="code"
      #code="ngModel"
      required
    />
    <span
      class="text-danger"
      *ngIf="
        (code.touched || addScategoryForm.submitted) && code.errors?.required
      "
    >
      Code est obligatoire
    </span>
  </div>

  <div class="form-group">
    <label>Libelle</label>
    <input
      type="text"
      class="form-control"
      [(ngModel)]="addEditScategoryDTO.libelle"
      name="libelle"
      id="libelle"
      #libelle="ngModel"
      required
    />
    <span
      class="text-danger"
      *ngIf="
        (libelle.touched || addScategoryForm.submitted) &&
        libelle.errors?.required
      "
    >
      Libelle est obligatoire
    </span>
  </div>

  <div class="form-group">
    <label>Categorie</label>
    <div class="form-group">
      <select
        name="scategorie"
        [(ngModel)]="addEditScategoryDTO.categoryDto"
        class="form-control"
      >
        <option
          *ngFor="let cat of categoryListDTO"
          [ngValue]="
            cat.id == addEditScategoryDTO.categoryDto?.id
              ? addEditScategoryDTO.categoryDto
              : cat
          "
        >
          {{ cat.designation }}
        </option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <button
      *ngIf="!paramId"
      type="submit"
      class="btn btn-lg btn-success"
      (click)="submit()"
    >
      <em class="fa fa-database"></em> Enregistrer</button
    >&nbsp;
    <button *ngIf="paramId" class="btn btn-lg btn-warning" (click)="update()">
      <em class="fa fa-database"></em>Modifier
    </button>
    <button type="button" (click)="goBack()" class="btn btn-lg btn-danger ml-1">
      <span class="fa fa-arrow-left">Fermer</span>&nbsp;
    </button>
  </div>
</form>
